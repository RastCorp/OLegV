<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <link type="text/css" rel="stylesheet" href="./css/bootstrap.min.css"/>
    <link type="text/css" rel="stylesheet" href="./css/bootstrap-vue.css"/>

    <!-- slider -->
    <link type="text/css" rel="stylesheet" href="./css/ion.rangeSlider.css"/>
    <link type="text/css" rel="stylesheet" href="./css/ion.rangeSlider.skinSimple.css"/>
    <script
		src="https://code.jquery.com/jquery-3.3.1.min.js"
		integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
		crossorigin="anonymous">
	</script>
	<script type="text/javascript" src="./js/ion.rangeSlider.min.js"></script>
	<!-- slider -->

    <script src="https://unpkg.com/vue@2.5.17/dist/vue.js"></script>
    <!-- Add this after vue.js -->
    <script type="text/javascript" src="./js/polyfill.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap-vue.js"></script>
    <script type="text/javascript" src="./js/star-rating.min.js"></script>
    <script type="text/javascript" src="./js/main.js"></script>

<style type="text/css">
body {
	margin: 0;
}
*, *::after, *::before {
	box-sizing: border-box;
}

@font-face {
    font-family: "u2000";
    font-style: normal;
    font-weight: normal;
    src: url("./fonts/u2000.eot?#iefix") format("embedded-opentype"), url("./fonts/u2000.woff") format("woff"), url("./fonts/u2000.ttf") format("truetype"), url("./fonts/u2000.svg#universaliaregular") format("svg");
}





.win-cont{
    --btn-color: rgba(170,211,230,1);
    width: 600px;
}
.left {
    z-index: 2;
    left: 0px;
    top: 0;
    /*line-height: 0;  */
}

.right {
    z-index: 2;
    right: 0;
    top: 0;
    /*line-height: 0; */
}

.win-cont .filters {
    display: flex;
    width: 100%;
    justify-content: flex-start;
    position: relative;
    box-shadow: 0 3px 6px rgba(112, 112, 112, 0.3);
}

.filters .filter {
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-left: 0px;
    padding-right: 0px;
}

.filters .left {
    margin-right: -20px;
}

.filters .right {
    margin-left: -20px;
}

.filter.first {
    /*padding-left: 3px;*/
}

.filter .text{
    text-transform: uppercase;
    margin: 0;
    display: flex;
    align-items: center;
    background-color: var(--btn-color);
    height: 50px;
    padding: 0 3px;
    cursor: pointer;
    font-size: 18px;
    line-height: 24px;
}

.filters .active p {
    background-color: white;
}
.filters .active::after {
    border-bottom: 50px solid white;
}
.filters .active::before {
    border-top: 50px solid white;
}

p.text {
    font-size: 13px;
}

.filter.first p {

}

.angle-left::before {
    content: '';
    position: relative;
    left: 0px;
    width: 0;
    height: 0;
    margin: 0;
    padding: 0;
    border-top: 50px solid var(--btn-color);
    border-left: 50px solid transparent;
    cursor: pointer;
}

.angle-right::after {
    content: '';
    position: relative;
    right: 0px;
    width: 0;
    height: 0;
    margin: 0;
    padding: 0;
    border-bottom: 50px solid var(--btn-color);
    border-right: 50px solid transparent;
    cursor: pointer;
}
.last-filter, .last-filter p {
	width: 100%;
}
.text::after {
    font-size: 32px;
    margin-top: -10px;
    margin-left: 3px;
    width: 21px;
    height: 13px;
    display: none;
    font-family: u2000;
}
.sort_asc .text::after {
    content: '\23F6';
    display: block;
    margin-top: -4px;
}
.sort_desc .text::after {
    content: '\23F7';
    display: block;
}




.list-res {
    overflow-y: scroll;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
    margin: 0;
    text-align: left;
    box-shadow: 0 5px 5px rgba(0, 0, 0, 0.3);
}
.list-res .item {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: justify;
    -ms-flex-pack: justify;
    justify-content: space-between;
    background-color: white;
    border-bottom: 1px solid rgb(218, 213, 213);
    padding: 12px 30px 12px 42px;
}
.list-res .item:hover {
    background-color: #E8E8EA;
}
.part1 {

    padding-right: 3px;

}
.part2 {

    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;

}
.list-res .item p.title {
    font-size: 24px;
    margin-bottom: 0;
    line-height: 32px;
}
.list-res .item p.title a, .list-res .item p.title a:link, .list-res .item p.title a:active, .list-res .item p.title a:hover, .list-res .item p.title a:visited {
    color: #000;
    text-decoration: none;
}
span.min-price {
    margin-left: 24px;
    font-size: 16px;
}
.list-res .item div.info {
    display: flex;
    justify-content: flex-start;
    font-size: 18px;
    line-height: 21px;
}
.list-res .item .rating {
    height: 19px;
    font-size: 10px;
    line-height: 10px;
}
.list-res .item .rating_label {
    margin-left: 5px;
}
.list-res .part1 p.text{
    font-size: 13px;
    line-height: 21px;
    margin-top: 9px;
}
.list-res .item img {

    width: 107px;
    height: 107px;

}
.part2 p {
    text-align: center;
    margin-bottom: 0px;
}



.subfilter-container {	position: absolute;
	top: 52px;
	z-index: -2;
	background-color: #fff;
	box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
	display: block;
	opacity: 0;
	transition: opacity 0.3s linear;
}
.subfilter-container.open {
	z-index: 2;	opacity: 1;
	transition: opacity 0.3s linear;
}
.subfilter-price {	left: 0px;
	width: 305px;
	height: 0px;
	padding: 5px 33px;
}
.subfilter-price.open {    height: 68px;
}
.subfilter-inner {
	display: flex;	flex-direction: column;
	justify-content: flex-start;
	align-items: center;
}
.subfilter-price .inputs {	display: flex;
	align-items: center;
	justify-content: space-between;
	width: 100%;
}
.subfilter-price .inputs input {	border: 1px solid rgba(112, 112, 112, 1);
	font-size: 16px;
	width: 87px;
	text-slign: center;
	height: 25px;
}
.slider {	width: 100%;
}
.delimiter {	color: #707070;
}
.irs {	height: auto;
}
.subfilter-category {	left: 0px;
	top: 51px;
	/*width: calc(100% - 16px);*/
	width: 100%;
	max-height: 923px;
	height: 0px;
	overflow: hidden;
	border: 1px solid rgba(112, 112, 112, 0.2);
	background-color: rgba(255, 255, 255, 0.6);
}
.subfilter-category.open {	height: 100%;
	overflow: visible;
}
.subfilter-category .subfilter-inner > div {
	width: 100%;
}
.subfilter-category .category-items {	overflow-y: auto;
	flex-grow: 1;
	max-height: 879px;
	box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
	background: #fff;
}
.subfilter-category .category-item {	overflow: hidden;
}
.subfilter-category .category-item-content {	display: flex;
	justify-content: flex-start;
	align-items: center;
	width: 100%;
	border: 1px solid rgba(112, 112, 112, 0.3);
	box-shadow: 0px 3px 6px -3px rgba(0, 0, 0, 0.16);
	cursor: pointer;
}
.subfilter-category .category-item img {	padding: 0 35px;
	height: 64px;
    margin: -1px 0;
}
.subfilter-category .category-item span {	font-size: 24px;
	line-height: 32px;
	margin-top: -3px;
}
.subfilter-category .category-item .subcategory {	/*display: none;*/
	height: 0px;
	opacity: 0;
	transition: opacity 0.3s linear;
	background-color: #eef3f4;
}
.subfilter-category .category-item.open .subcategory {	/*display: block; */
	padding: 24px 0;
	height: auto;
	opacity: 1;
	transition: opacity 0.3s linear;
}
.subfilter-category .category-item .caret:after {
	display: none;
	content: '\276E';
    font-size: 30px;
    height: 25px;
    margin-left: 5px;
    margin-top: 9px;
    transform: rotate(-90deg);
    width: 13px;
}
.subfilter-category .category-item.open .caret:after {    display: block;
}
.subfilter-category .category-item .subcategory-item {	padding-left: 120px;
	cursor: pointer;
	font-size: 21px;
	line-height: 40px;
}
.subfilter-category .category-item .subcategory-item.selected, .subfilter-category .category-item .subcategory-item:hover {	background-color: rgba(212, 228, 197, 0.4);
}
.subfilter-category .category-controls {	height: 44px;
	display: flex;
	justify-content: space-between;
	align-items: center;
}
.subfilter-category .category-controls .left-buttons {	height: 28px;
	padding-left: 15px;
}
.subfilter-category .category-controls .left-buttons button {	font-size: 16px;
	background-color: #e8e8ea;
	border: 1px solid rgba(112, 112, 112, 0.3);
	box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);
	height: 100%;
	margin-left: 20px;
	padding-bottom: 3px;
}
.subfilter-category .category-hide-button {	background: transparent;
	font-size: 21px;
	line-height: 42px;
	height: 100%;
	color: #707070;
	cursor: pointer;
}
.subfilter-category .category-hide-button::after {	content: '\276E';
    display: block;
    float: right;
    font-size: 30px;
    height: 22px;
    margin-left: 38px;
    margin-top: 11px;
    transform: rotate(90deg);
    width: 12px;
}



/* Checkbox */
.style-checkbox {
}

/*Checkboxes styles*/
.style-checkbox input[type="checkbox"] { display: none; }

.style-checkbox input[type="checkbox"] + label {
  display: block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 20px;
  color: #AAD3E6;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  line-height: 11px;
}

.style-checkbox input[type="checkbox"] + label:before {
  content: '';
  display: block;
  width: 25px;
  height: 25px;
  border: 2px solid #AAD3E6;
  position: absolute;
  opacity: .6;
  /*-webkit-transition: all .12s, border-color .08s;
  transition: all .12s, border-color .08s;  */
  top: -3px;
  left: 10px;
}

.style-checkbox input[type="checkbox"]:checked + label:before {
  opacity: 1;
  content: '\2714';
  font-size: 34px;
  border: 2px solid #E8E8EA;
}

</style>

</head>
<body>
    <div id="app">
    	<div class="win-cont">
    		<div class="filters">
    			<div class="filter left first angle-right sort_asc">
    				<p class="text">Цена</p>
    				<div class="subfilter-container subfilter-price">
	    				<div class="subfilter-inner">
	                    	<div class="inputs">
	                    		<input type="text" class="js-input-from" value="">
	                    		<span class="delimiter">-</span>
	                    		<input type="text" class="js-input-to" value="">
	                    		<div class="style-checkbox">
								  <input type="checkbox" name="send" id="price-checkbox">
								  <label for="price-checkbox"></label>
								</div>
	                    	</div>
	                    	<div class="slider">
	                    		<input type="text" class="js-range-slider" data-min="0" data-from="2000" data-max="5000" data-to="5000">
	                    	</div>
	    				</div>
	    			</div>
    			</div>
    			<div class="filter left right angle-left angle-right sort_desc active">
    				<p class="text">Рейтинг</p>
    			</div>
    			<div class="filter left right angle-left angle-right">
    				<p class="text">Категория</p>
    				<div class="subfilter-container subfilter-category">
	    				<div class="subfilter-inner">
	    					<div class="category-items">
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/food.png">
			                    		<span>Питание</span>
			                    		<span class="caret"></span>
			                    	</div>
			                    	<div class="subcategory">
			                    		<div class="subcategory-item">
			                    			Кафе
			                    		</div>
			                    		<div class="subcategory-item">
			                    			Суши, бары, Рестораны
			                    		</div>
			                    		<div class="subcategory-item">
			                    			Быстрое питание
			                    		</div>
			                    		<div class="subcategory-item">
			                    			Столовые
			                    		</div>
			                    		<div class="subcategory-item">
			                    			Еще подкатегория
			                    		</div>
			                    		<div class="subcategory-item">
			                    			Еще подкатегория
			                    		</div>
			                    		<div class="subcategory-item">
			                    			Еще подкатегория
			                    		</div>
			                    		<div class="subcategory-item">
			                    			Еще подкатегория
			                    		</div>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/everyday.png">
			                    		<span>Бытовые услуги</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
			                    	<div class="category-item-content">
			                    		<img src="./img/categories/business.png">
			                    		<span>Деловые услуги</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/realty.png">
			                    		<span>Недвижимость</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/it.png">
			                    		<span>IT, интернет, телеком</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/beauty.png">
			                    		<span>Красота</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/sport.png">
			                    		<span>Спорт</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/medicine.png">
			                    		<span>Медицина</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/courier.png">
			                    		<span>Курьерские поручения</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/building.png">
			                    		<span>Ремонт и строительство</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/holiday.png">
			                    		<span>Праздники и мероприятия</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/auto.png">
			                    		<span>Авто и перевозки</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/cleaning.png">
			                    		<span>Клининг</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/education.png">
			                    		<span>Обучение</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/relaxation.png">
			                    		<span>Развлечение и отдых</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/animals.png">
			                    		<span>Животные</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/advertising.png">
			                    		<span>Реклама, полиграфия</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/garden.png">
			                    		<span>Сад, благоустройство</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/security.png">
			                    		<span>Охрана, безопасность</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/care.png">
			                    		<span>Патронаж, уход</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/friend.png">
			                    		<span>Друг на час</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/charity.png">
			                    		<span>Благотворительность</span>
			                    	</div>
		                    	</div>
		                    	<div class="category-item">
		                    		<div class="category-item-content">
			                    		<img src="./img/categories/rip.png">
			                    		<span>Ритуальные услуги</span>
			                    	</div>
		                    	</div>
		        			</div>
		        			<div class="category-controls">
		        				<div class="left-buttons">
		        					<button id="select-all">Выбрать все</button>
		        					<button id="no-select">Убрать все</button>
		        				</div>
		        				<div class="category-hide-button">Скрыть</div>
		        			</div>
	    				</div>
	    			</div>
    			</div>
    			<div class="filter right angle-left last-filter">
    				<p class="text"></p>
    			</div>
    		</div>

            <div class="list-res">


                <div class="item">
                    <div class="part1">
                        <p class="title"><a href="">Кальян-бар</a></p>
                        <div class="info">
                            <div class="rating">
                                <star-rating v-model="rating" :star-size="19" active-color="#FAC917" inactive-color="#E9E9EB" :border-width="0" rating="4"  :show-rating="false"></star-rating>
                            </div>
                            <div class="rating_label">2.5 <span class="min-price">цена от 100</span></div>
                        </div>
                        <p class="text">Россия, Москва, Октябрьская улица, 26, стр. 1
                            <br>открыт до 18:00
                        </p>
                    </div>
                    <div class="part2">
                        <img src="http://bro4you.ru/images/no_image.jpg">
                        <p class="text">нет отзывов</p>
                    </div>
                </div>


                <div class="item">
                    <div class="part1">
                        <p class="title"><a href="">Кальян-бар</a></p>
                        <div class="info">
                            <div class="rating">
                                <star-rating v-model="rating" :star-size="19" active-color="#FAC917" inactive-color="#E9E9EB" :border-width="0" rating="4"  :show-rating="false"></star-rating>
                            </div>
                            <div class="rating_label">2.5 <span class="min-price">цена от 100</span></div>
                        </div>
                        <p class="text">Россия, Москва, Октябрьская улица, 26, стр. 1
                            <br>открыт до 18:00
                        </p>
                    </div>
                    <div class="part2">
                        <img src="http://bro4you.ru/images/no_image.jpg">
                        <p class="text">нет отзывов</p>
                    </div>
                </div>


                <div class="item">
                    <div class="part1">
                        <p class="title"><a href="">Кальян-бар</a></p>
                        <div class="info">
                            <div class="rating">
                                <star-rating v-model="rating" :star-size="19" active-color="#FAC917" inactive-color="#E9E9EB" :border-width="0" rating="4"  :show-rating="false"></star-rating>
                            </div>
                            <div class="rating_label">2.5 <span class="min-price">цена от 100</span></div>
                        </div>
                        <p class="text">Россия, Москва, Октябрьская улица, 26, стр. 1
                            <br>открыт до 18:00
                        </p>
                    </div>
                    <div class="part2">
                        <img src="http://bro4you.ru/images/no_image.jpg">
                        <p class="text">нет отзывов</p>
                    </div>
                </div>
            </div>
    	</div>
    </div>

    <script type="text/javascript">
    	$(document).ready(function(){
    		// клик на фильтр
    		$('.filter').on('click', function(){
    			$('.filter .subfilter-container').removeClass('open');    			$(this).find('.subfilter-container').addClass('open');    		});

			// клик на чекбокс в фильтре по цене
    		$('.subfilter-price [type=checkbox]').on('click', function(e){
    			e.stopPropagation();
    			if ($(this).is(':checked')) console.log('Применили фильтр');
    			else console.log('Отменили фильтр');
    		});

			// клик на категорию
			$('.subfilter-category .category-item-content').on('click', function(e){
				e.stopPropagation();
				if ($(this).parent().hasClass('open')) {					$(this).parent().removeClass('open');
				} else {
	    			$('.subfilter-category .category-item').removeClass('open');
	    			$(this).parent().addClass('open');
				}
    		});

			// клик на подкатегорию
    		$('.subfilter-category .category-item .subcategory-item').on('click', function(e){
				e.stopPropagation();
    			$(this).toggleClass('selected');
    		});
    		// клик на кнопку "Выбрать все"
    		$('#select-all').on('click', function(e){
				e.stopPropagation();
    			$('.subfilter-category .category-item .subcategory-item').addClass('selected');
    		});
    		// клик на кнопку "Убрать все"
    		$('#no-select').on('click', function(e){
				e.stopPropagation();
    			$('.subfilter-category .category-item .subcategory-item').removeClass('selected');
    		});

			// клик на кнопку "Скрыть"
    		$('.subfilter-category .category-hide-button').on('click', function(e){
    		    e.stopPropagation();    			$('.subfilter-category').removeClass('open');    		});

            // слайдер			var $range = $(".js-range-slider"),
			    $inputFrom = $(".js-input-from"),
			    $inputTo = $(".js-input-to"),
			    instance,
			    min = $range.data('min'),
			    max = $range.data('max'),
			    from = $range.data('from'),
			    to = $range.data('to');

			$range.ionRangeSlider({
			    type: "double",
			    min: min,
			    max: max,
			    from: from,
			    to: to,
			    step: 10,
			    hide_min_max: true,
			    hide_from_to: true,
			    grid: false,
			    drag_interval: true,
			    onStart: updateInputs,
			    onChange: updateInputs,
			    onFinish: finish
			});
			instance = $range.data("ionRangeSlider");

			//  когда пользователь отпускает ползунок
			function finish (data) {				//console.log(data.from, data.to);
			}
            //  изменяет значения в полях
			function updateInputs (data) {
				from = data.from;
			    to = data.to;

			    $inputFrom.prop("value", from);
			    $inputTo.prop("value", to);
			}

			//  когда изменили значение в поле От
			$inputFrom.on("input", function () {
			    var val = $(this).prop("value");

			    // validate
			    if (val < min) {
			        val = min;
			    } else if (val > to) {
			        val = to;
			    }

			    instance.update({
			        from: val
			    });
			});

			//  когда изменили значение в поле До
			$inputTo.on("input", function () {
			    var val = $(this).prop("value");

			    // validate
			    if (val < from) {
			        val = from;
			    } else if (val > max) {
			        val = max;
			    }

			    instance.update({
			        to: val
			    });
			});
			/* конец слайдера */    	});
    </script>
</body>
</html>